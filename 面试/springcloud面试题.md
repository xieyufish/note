# SpringCloud面试题

## 1. 什么是微服务？

微服务（Microservices）是一种软件架构风格或者方式，它是以专注于单一责任与功能的小型功能区块为基础，是一种以业务功能为主的服务设计概念，每一个服务都具有自主运行的业务功能，将每个服务以模块化的方式组合成复杂的大型应用程序，各功能模块之间通过使用与语言无关的通信协议相互通讯实现最终的功能。

微服务架构的思考是从与整体应用对比而产生的。

## 2. 微服务的优缺点？

优点：

1. 快速发布：每个服务都比较简单，只关注单个业务功能，由不同的团队负责开发加快推出速度；
2. 松耦合：服务与服务之间通过语言无关的通信协议相互通讯，代码侵入性低；
3. 去中心化：每个服务只实现单个功能，使得每个服务都很重要缺一不可；
4. 持续交付：在频繁发布不同服务的同时保持系统其他部分的可用性和稳定性。

缺点：

1. 运维开销及成本增加：整体应用可能只需部署至一小片应用服务区集群，而微服务架构可能变成需要构建/测试/部署/运行数十个独立的服务，并可能需要支持多种语言和环境。这导致一个整体式系统如果由20个微服务组成，可能需要40~60个进程。
2. 隐式接口及接口匹配问题：把系统分为多个协作组件后会产生新的接口，这意味着简单的交叉变化可能需要改变许多组件，并需协调一起发布。在实际环境中，一个新品发布可能被迫同时发布大量服务，由于集成点的大量增加，微服务架构会有更高的发布风险。
3. 代码重复：某些底层功能需要被多个服务所用，为了避免将“同步耦合引入到系统中”，有时需要向不同服务添加一些代码，这就会导致代码重复。
4. 分布式系统的复杂性：作为一种分布式系统，微服务引入了复杂性和其他若干问题，例如网络延迟、容错性、消息序列化、不可靠的网络、异步机制、版本化、差异化的工作负载等，开发人员需要考虑以上的分布式系统问题。
5. 异步机制：微服务往往使用异步编程、消息与并行机制，如果应用存在跨微服务的事务性处理，其实现机制会变得复杂化。
6. 可测性的挑战：在动态环境下服务间的交互会产生非常微妙的行为，难以可视化及全面测试。经典微服务往往不太重视测试，更多的是通过监控发现生产环境的异常，进而快速回滚或采取其他必要的行动。但对于特别在意风险规避监管或投产环境错误会产生显著影响的场景下需要特别注意。

## 3. 微服务之间的通信方式有哪些？各自的优缺点？

同步：RPC、REST

异步：消息队列

1. RPC一般是基于TCP，而REST是基于HTTP的，所以在性能上RPC要好；
2. 学习成本，团队成员的上手难易程度，REST更容易接受
3. 对外开放的需求，rpc需要进一步转换，而rest可以直接对外开放
4. 代码耦合度：REST更松散
5. 与其他框架集成的难易度：rest更容易
6. 异步需求：rest需要额外的实现手段，如通过中间件等

## 4. SpringCloud和Dubbo的区别？

1. 通信机制：Dubbo是基于RPC远程过程调用，而SpringCloud是基于REST风格调用；
2. Dubbo的定位是一款RPC+服务治理的框架，而SpringCloud的目的是微服务架构下的一站式解决方案；
3. Dubbo是基于Spring的，而SpringCloud是基于Springboot的；

## 5. Eureka的工作原理？


